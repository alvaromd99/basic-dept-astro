---
// Short video https://cdn.sanity.io/files/8nn8fua5/production/c6fb986a862cbe643c40cbdd0318ebc495efb187.mp4
// Long video https://cdn.sanity.io/files/8nn8fua5/production/4c749533161fc77c899a376ec6cd6da38973772f.mp4
import NavBar from "../components/NavBar.astro";
---

<header>
  <video
    src="https://cdn.sanity.io/files/8nn8fua5/production/c6fb986a862cbe643c40cbdd0318ebc495efb187.mp4"
    muted
    loop
    class="video"></video>
  <NavBar />
  <div class="custom-cursor"></div>
</header>
<style>
  header {
    width: 100%;
    height: 100vh;
    position: relative;
  }
  video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .custom-cursor {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: red;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
</style>
<script>
  const videoElement = document.querySelector(".video") as HTMLVideoElement;
  const customCursor = document.querySelector(
    ".custom-cursor",
  ) as HTMLDivElement;

  const updateCursor = (event: MouseEvent) => {
    if (!videoElement || !customCursor) return;

    // Calculate the cursor position relative to the video element
    const rect = videoElement?.getBoundingClientRect();
    const x = event.clientX - rect.left;
    const y = event.clientY - rect.top;

    // Update the position of the custom cursor
    customCursor.style.left = `${x}px`;
    customCursor.style.top = `${y}px`;
  };

  document.addEventListener("DOMContentLoaded", () => {
    if (!videoElement) return;

    videoElement.addEventListener("mousemove", updateCursor);
  });
</script>
